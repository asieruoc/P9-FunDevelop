<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUN CONQUEST</title>
    <!--BOOTSTRAP-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="scripts/dragAndDrop.js"></script>
    <!--CSS-->
    <link rel="stylesheet" href="./css/estilos.css">
</head>
<body onload="loadPlayer()">
<div class="container-fluid backgroundSalas">
    <!-- Contenido-->
    <div>
        <h4>Arrastra el elemento elegido</h4>
    </div>
    <div class="wrapper">
        <div class="box source">
            <ul id="playerList" class="source-list">
                <!--li draggable="true" ondragstart="dragstart(event)">Soap</li>
                <li draggable="true" ondragstart="dragstart(event)">Candy</li>
                <li draggable="true" ondragstart="dragstart(event)">Fruits</li>
                <li draggable="true" ondragstart="dragstart(event)">Cereals</li-->
            </ul>
        </div>
        <div class="box destination">
            <ul id="sala1"  class="dest-list" ondrop="drop(event)" ondragover="dragover(event)">
                <li draggable="true" ondragstart="dragstart(event)">Soap</li>
                <li draggable="true" ondragstart="dragstart(event)">Candy</li>
                <!--li draggable="true" ondragstart="dragstart(event)">Fruits</li>
                <li draggable="true" ondragstart="dragstart(event)">Cereals</li-->
            </ul>
        </div>
    </div>

</div>

</body>
<script>
    function loadPlayer() {
        if(localStorage.getItem("userData")){
            var li = document.createElement("li");
            var userData = JSON.parse(localStorage.getItem("userData"));

            li.draggable = true;
            li.ondragstart = dragstart;
            li.id = "playerLi";

            let avatar = document.createElement("img");
            avatar.src="/img/Avatar"+userData.avatar+".png";
            avatar.class="layout-image";
            li.appendChild(avatar);
            let span = document.createElement("span");
            span.textContent = userData.username;
            li.appendChild(span);

            document.getElementById("playerList").appendChild(li);
        }
    }
</script>
</html>